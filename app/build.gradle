import com.aouerfelli.subwatcher.Dependencies

plugins {
  id "com.android.application"
  id "org.jetbrains.kotlin.android"
  id "org.jetbrains.kotlin.kapt"
  id "dagger.hilt.android.plugin"
}

android {
  compileSdkVersion 30

  defaultConfig {
    applicationId "com.aouerfelli.subwatcher"
    minSdkVersion 21
    targetSdkVersion 30
    versionCode 5
    versionName "1.0.4"
    testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
  }

  buildTypes {
    release {
      minifyEnabled true
      shrinkResources true
      proguardFiles "proguard-rules.pro"
    }
  }

  lintOptions {
    checkReleaseBuilds false
    textReport true
    htmlReport false
    xmlReport false
    explainIssues false
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
    coreLibraryDesugaringEnabled true
  }

  kapt {
    correctErrorTypes true
  }

  buildFeatures {
    viewBinding true
  }
}

dependencies {
  implementation (project(":data"))

  coreLibraryDesugaring Dependencies.androidDesugarJdkLibs

  implementation platform(Dependencies.KotlinX.Coroutines.bom)
  implementation Dependencies.KotlinX.Coroutines.android

  implementation Dependencies.AndroidX.appcompat
  implementation Dependencies.AndroidX.activity
  implementation Dependencies.AndroidX.fragment
  implementation Dependencies.AndroidX.core
  implementation Dependencies.AndroidX.constraintLayout
  implementation Dependencies.AndroidX.coordinatorLayout
  implementation Dependencies.AndroidX.recyclerView
  implementation Dependencies.AndroidX.swipeRefreshLayout
  implementation Dependencies.AndroidX.browser

  implementation Dependencies.material
  implementation Dependencies.insetter

  implementation Dependencies.AndroidX.Lifecycle.viewModel
  implementation Dependencies.AndroidX.Lifecycle.viewModelSavedState
  implementation Dependencies.AndroidX.Lifecycle.process

  implementation Dependencies.AndroidX.work

  implementation Dependencies.coil

  implementation Dependencies.Dagger.runtime
  kapt Dependencies.Dagger.compiler
  implementation Dependencies.Dagger.Hilt.runtime
  kapt Dependencies.Dagger.Hilt.compiler
  implementation Dependencies.AndroidX.Hilt.work
  kapt Dependencies.AndroidX.Hilt.compiler

  implementation Dependencies.SqlDelight.android

  implementation Dependencies.Timber.android
}
